<VirtualHost *:8080>

    ServerAdmin server.admin@server.name
    ServerName server.name
    DocumentRoot /var/www/photo-blog/backend/public

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    <Directory "/var/www/photo-blog/backend/public">

        Options Indexes FollowSymLinks Includes ExecCGI
        AllowOverride All
        Require all granted

        <IfModule mod_expires.c>
            ExpiresActive on
            ExpiresByType image/png "access plus 11 month"
            ExpiresByType image/gif "access plus 11 month"
            ExpiresByType image/jpeg "access plus 11 month"
        </IfModule>

        <IfModule mod_headers.c>
            Header set Access-Control-Allow-Origin "*"
            Header set Access-Control-Allow-Methods "GET, POST, DELETE, PUT, OPTIONS, HEAD"
            Header set Access-Control-Allow-Headers "Accept, Content-Type, Authorization"

            <FilesMatch "\.(ico|pdf|flv|jpg|jpeg|png|gif|js|css|swf)$">
                Header set Cache-Control "max-age=28930000, public"
            </FilesMatch>
        </IfModule>

    </Directory>

</VirtualHost>

# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
